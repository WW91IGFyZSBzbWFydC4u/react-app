{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _regeneratorRuntime from\"D:/temp_e/Projects/React/mythirdapp/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/temp_e/Projects/React/mythirdapp/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"D:/temp_e/Projects/React/mythirdapp/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/temp_e/Projects/React/mythirdapp/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"D:/temp_e/Projects/React/mythirdapp/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/temp_e/Projects/React/mythirdapp/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{observer}from'mobx-react';import UserStore from'./stores/UserStore';import LoginForm from'./LoginForm';import Spinner from'./spinner';import'./App.scss';import Dashboard from'./Dashboard/Dashboard';import Navbar from'./Dashboard/Navbar';import TitleBar from'./TitleBar';import{BrowserRouter as Router,Route,Switch}from'react-router-dom';import Overview from'./Dashboard/Overview';import Wallet from'./Dashboard/Wallet';import Profile from'./Dashboard/AppProfile';import AppProfile from'./Dashboard/AppProfile';import{Alert}from'tabler-react';var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(){_classCallCheck(this,App);return _super.apply(this,arguments);}_createClass(App,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch('/isLoggedIn',{method:'post',headers:{'Accept':'applcication/json','Content-Type':'applcication/json'}});case 3:res=_context.sent;_context.next=6;return res.json();case 6:result=_context.sent;if(result&&result.success){UserStore.loading=false;UserStore.isLoggedIn=true;UserStore.username=result.username;}else{UserStore.loading=false;UserStore.isLoggedIn=false;}_context.next=14;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);UserStore.loading=false;UserStore.isLoggedIn=false;case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"doLogout\",value:function(){var _doLogout=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var res,result;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return fetch('/logout',{method:'post',headers:{'Accept':'applcication/json','Content-Type':'applcication/json'}});case 3:res=_context2.sent;_context2.next=6;return res.json();case 6:result=_context2.sent;if(result&&result.success){UserStore.isLoggedIn=false;UserStore.username='';}_context2.next=13;break;case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);case 13:case\"end\":return _context2.stop();}}},_callee2,null,[[0,10]]);}));function doLogout(){return _doLogout.apply(this,arguments);}return doLogout;}()},{key:\"render\",value:function render(){var _this=this;if(UserStore.loading){return/*#__PURE__*/_jsx(\"div\",{className:\"app\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"loginContainer\",children:[\"Loading, please wait...\",/*#__PURE__*/_jsx(Spinner,{loading:true})]})});}else{// HERE YOU \nif(UserStore.isLoggedIn){return/*#__PURE__*/_jsx(\"div\",{className:\"all\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"content\",id:\"dashboard-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"titlebar\",children:/*#__PURE__*/_jsx(TitleBar,{})}),/*#__PURE__*/_jsxs(Router,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"navbar\",children:/*#__PURE__*/_jsx(Navbar,{onClick:function onClick(){return _this.doLogout();}})}),/*#__PURE__*/_jsx(Route,{path:\"/\",exact:true,component:Overview}),/*#__PURE__*/_jsx(Route,{path:\"/overview\",exact:true,component:Overview}),/*#__PURE__*/_jsx(Route,{path:\"/wallet\",exact:true,component:Wallet}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",exact:true,component:AppProfile})]}),/*#__PURE__*/_jsx(\"div\",{className:\"footer\",children:/*#__PURE__*/_jsx(Alert,{type:\"danger\",icon:\"alert-triangle\",isDismissible:true,children:\"2FA Authentication is currently disabled - we are working on a solution!\"})})]})});}return/*#__PURE__*/_jsx(\"div\",{className:\"app\",children:/*#__PURE__*/_jsx(\"div\",{className:\"login\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",ref:function ref(_ref){return _this.container=_ref;},children:[/*#__PURE__*/_jsxs(\"article\",{class:\"half\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"CryptoWallet\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"beta\"}),/*#__PURE__*/_jsx(\"div\",{class:\"tabs\",children:/*#__PURE__*/_jsx(\"span\",{class:\"tab signin active\",children:/*#__PURE__*/_jsx(\"a\",{href:\"#signin\",children:\"Sign in\"})})}),/*#__PURE__*/_jsx(\"div\",{class:\"content\",children:/*#__PURE__*/_jsx(\"div\",{class:\"signin-cont cont\",children:/*#__PURE__*/_jsx(LoginForm,{})})})]}),/*#__PURE__*/_jsx(\"div\",{class:\"half bg\"})]})})});}}}]);return App;}(React.Component);export default observer(App);","map":{"version":3,"sources":["D:/temp_e/Projects/React/mythirdapp/frontend/src/App.js"],"names":["React","observer","UserStore","LoginForm","Spinner","Dashboard","Navbar","TitleBar","BrowserRouter","Router","Route","Switch","Overview","Wallet","Profile","AppProfile","Alert","App","fetch","method","headers","res","json","result","success","loading","isLoggedIn","username","console","log","doLogout","ref","container","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {observer} from 'mobx-react';\nimport UserStore from './stores/UserStore';\nimport LoginForm from './LoginForm';\nimport Spinner from './spinner';\nimport './App.scss';\nimport Dashboard from './Dashboard/Dashboard';\nimport Navbar from './Dashboard/Navbar';\nimport TitleBar from './TitleBar';\nimport {BrowserRouter as Router, Route, Switch} from 'react-router-dom';\nimport Overview from './Dashboard/Overview';\nimport Wallet from './Dashboard/Wallet';\nimport Profile from './Dashboard/AppProfile';\nimport AppProfile from './Dashboard/AppProfile';\nimport {Alert} from 'tabler-react'\n\nclass App extends React.Component{\n  async componentDidMount() {\n    try {\n      let res = await fetch('/isLoggedIn', {\n        method: 'post',\n        headers: {\n          'Accept': 'applcication/json',\n          'Content-Type': 'applcication/json'\n        }\n      });\n\n      let result = await res.json();\n\n      if (result && result.success) {\n        UserStore.loading = false;\n        UserStore.isLoggedIn = true;\n        UserStore.username = result.username;\n      }\n      else {\n        UserStore.loading = false;\n        UserStore.isLoggedIn = false;\n      }\n    }\n    catch(e){\n      UserStore.loading = false;\n      UserStore.isLoggedIn = false;\n    }\n    \n  }\n\n  async doLogout() {\n\n    try {\n      let res = await fetch('/logout', {\n        method: 'post',\n        headers: {\n          'Accept': 'applcication/json',\n          'Content-Type': 'applcication/json'\n        }\n      });\n\n      let result = await res.json();\n\n      if (result && result.success) {\n        UserStore.isLoggedIn = false;\n        UserStore.username = '';\n      }\n    }\n    catch(e){\n      console.log(e)\n    }\n    \n  }\n\n  render(){\n\n    if(UserStore.loading) {\n      return (\n        <div className=\"app\">\n          <div className='loginContainer'> \n            Loading, please wait...\n            <Spinner\n            loading={true}\n          />\n          </div>\n        </div>\n      );  \n    }\n\n    else {\n      // HERE YOU \n      if (UserStore.isLoggedIn ) {\n        return (\n          <div className=\"all\">\n            <div className=\"content\" id=\"dashboard-content\">\n              <div className=\"titlebar\">\n                <TitleBar/>\n              </div>\n              <Router>\n                <div className=\"navbar\">\n                    <Navbar\n                      onClick = {() => this.doLogout()}\n                    />\n                </div>\n                <Route path='/' exact component={Overview}/>\n                <Route path='/overview' exact component={Overview}/>\n                <Route path='/wallet' exact component={Wallet}/>\n                <Route path='/profile' exact component={AppProfile}/>\n              </Router>\n              <div className=\"footer\">\n                <Alert type=\"danger\" icon=\"alert-triangle\" isDismissible>\n                  2FA Authentication is currently disabled - we are working on a solution!\n                </Alert>\n              </div>\n            </div>\n          </div>\n        );  \n      }\n\n      return (\n        <div className=\"app\">\n          <div className=\"login\">\n            <div className=\"container\" ref={ref => (this.container = ref)}>\n              <article class=\"half\">\n\t\t\t\t\t      <h1>CryptoWallet</h1>\n\t\t\t\t\t      <h2>beta</h2>\n\t\t\t          <div class=\"tabs\">\n\t\t\t\t          <span class=\"tab signin active\"><a href=\"#signin\">Sign in</a></span>\n\t\t\t          </div>\n\t\t\t        <div class=\"content\">\n\t\t\t\t            <div class=\"signin-cont cont\">\n                      <LoginForm/>\n    \t\t\t\t        </div>\n\t\t\t        </div>\n\t\t         </article>\n             <div class=\"half bg\"></div>\n            </div>\n          </div>\n        </div>\n      );\n    }\n  }\n}\n\nexport default observer(App);\n"]},"metadata":{},"sourceType":"module"}